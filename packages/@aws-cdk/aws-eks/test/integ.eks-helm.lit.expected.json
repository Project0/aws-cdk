[
  {
    "Resources": {
      "vpcA2121C38": {
        "Type": "AWS::EC2::VPC",
        "Properties": {
          "CidrBlock": "10.0.0.0/16",
          "EnableDnsHostnames": true,
          "EnableDnsSupport": true,
          "InstanceTenancy": "default",
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc"
            }
          ]
        }
      },
      "vpcPublicSubnet1Subnet2E65531E": {
        "Type": "AWS::EC2::Subnet",
        "Properties": {
          "CidrBlock": "10.0.0.0/18",
          "VpcId": {
            "Ref": "vpcA2121C38"
          },
          "AvailabilityZone": "test-region-1a",
          "MapPublicIpOnLaunch": true,
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PublicSubnet1"
            },
            {
              "Key": "aws-cdk:subnet-name",
              "Value": "Public"
            },
            {
              "Key": "aws-cdk:subnet-type",
              "Value": "Public"
            },
            {
              "Key": "kubernetes.io/role/elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPublicSubnet1RouteTable48A2DF9B": {
        "Type": "AWS::EC2::RouteTable",
        "Properties": {
          "VpcId": {
            "Ref": "vpcA2121C38"
          },
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PublicSubnet1"
            },
            {
              "Key": "kubernetes.io/role/elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPublicSubnet1RouteTableAssociation5D3F4579": {
        "Type": "AWS::EC2::SubnetRouteTableAssociation",
        "Properties": {
          "RouteTableId": {
            "Ref": "vpcPublicSubnet1RouteTable48A2DF9B"
          },
          "SubnetId": {
            "Ref": "vpcPublicSubnet1Subnet2E65531E"
          }
        }
      },
      "vpcPublicSubnet1DefaultRoute10708846": {
        "Type": "AWS::EC2::Route",
        "Properties": {
          "RouteTableId": {
            "Ref": "vpcPublicSubnet1RouteTable48A2DF9B"
          },
          "DestinationCidrBlock": "0.0.0.0/0",
          "GatewayId": {
            "Ref": "vpcIGWE57CBDCA"
          }
        },
        "DependsOn": [
          "vpcVPCGW7984C166"
        ]
      },
      "vpcPublicSubnet1EIPDA49DCBE": {
        "Type": "AWS::EC2::EIP",
        "Properties": {
          "Domain": "vpc",
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PublicSubnet1"
            },
            {
              "Key": "kubernetes.io/role/elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPublicSubnet1NATGateway9C16659E": {
        "Type": "AWS::EC2::NatGateway",
        "Properties": {
          "AllocationId": {
            "Fn::GetAtt": [
              "vpcPublicSubnet1EIPDA49DCBE",
              "AllocationId"
            ]
          },
          "SubnetId": {
            "Ref": "vpcPublicSubnet1Subnet2E65531E"
          },
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PublicSubnet1"
            },
            {
              "Key": "kubernetes.io/role/elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPublicSubnet2Subnet009B674F": {
        "Type": "AWS::EC2::Subnet",
        "Properties": {
          "CidrBlock": "10.0.64.0/18",
          "VpcId": {
            "Ref": "vpcA2121C38"
          },
          "AvailabilityZone": "test-region-1b",
          "MapPublicIpOnLaunch": true,
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PublicSubnet2"
            },
            {
              "Key": "aws-cdk:subnet-name",
              "Value": "Public"
            },
            {
              "Key": "aws-cdk:subnet-type",
              "Value": "Public"
            },
            {
              "Key": "kubernetes.io/role/elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPublicSubnet2RouteTableEB40D4CB": {
        "Type": "AWS::EC2::RouteTable",
        "Properties": {
          "VpcId": {
            "Ref": "vpcA2121C38"
          },
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PublicSubnet2"
            },
            {
              "Key": "kubernetes.io/role/elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPublicSubnet2RouteTableAssociation21F81B59": {
        "Type": "AWS::EC2::SubnetRouteTableAssociation",
        "Properties": {
          "RouteTableId": {
            "Ref": "vpcPublicSubnet2RouteTableEB40D4CB"
          },
          "SubnetId": {
            "Ref": "vpcPublicSubnet2Subnet009B674F"
          }
        }
      },
      "vpcPublicSubnet2DefaultRouteA1EC0F60": {
        "Type": "AWS::EC2::Route",
        "Properties": {
          "RouteTableId": {
            "Ref": "vpcPublicSubnet2RouteTableEB40D4CB"
          },
          "DestinationCidrBlock": "0.0.0.0/0",
          "GatewayId": {
            "Ref": "vpcIGWE57CBDCA"
          }
        },
        "DependsOn": [
          "vpcVPCGW7984C166"
        ]
      },
      "vpcPublicSubnet2EIP9B3743B1": {
        "Type": "AWS::EC2::EIP",
        "Properties": {
          "Domain": "vpc",
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PublicSubnet2"
            },
            {
              "Key": "kubernetes.io/role/elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPublicSubnet2NATGateway9B8AE11A": {
        "Type": "AWS::EC2::NatGateway",
        "Properties": {
          "AllocationId": {
            "Fn::GetAtt": [
              "vpcPublicSubnet2EIP9B3743B1",
              "AllocationId"
            ]
          },
          "SubnetId": {
            "Ref": "vpcPublicSubnet2Subnet009B674F"
          },
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PublicSubnet2"
            },
            {
              "Key": "kubernetes.io/role/elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPrivateSubnet1Subnet934893E8": {
        "Type": "AWS::EC2::Subnet",
        "Properties": {
          "CidrBlock": "10.0.128.0/18",
          "VpcId": {
            "Ref": "vpcA2121C38"
          },
          "AvailabilityZone": "test-region-1a",
          "MapPublicIpOnLaunch": false,
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PrivateSubnet1"
            },
            {
              "Key": "aws-cdk:subnet-name",
              "Value": "Private"
            },
            {
              "Key": "aws-cdk:subnet-type",
              "Value": "Private"
            },
            {
              "Key": "kubernetes.io/role/internal-elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPrivateSubnet1RouteTableB41A48CC": {
        "Type": "AWS::EC2::RouteTable",
        "Properties": {
          "VpcId": {
            "Ref": "vpcA2121C38"
          },
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PrivateSubnet1"
            },
            {
              "Key": "kubernetes.io/role/internal-elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPrivateSubnet1RouteTableAssociation67945127": {
        "Type": "AWS::EC2::SubnetRouteTableAssociation",
        "Properties": {
          "RouteTableId": {
            "Ref": "vpcPrivateSubnet1RouteTableB41A48CC"
          },
          "SubnetId": {
            "Ref": "vpcPrivateSubnet1Subnet934893E8"
          }
        }
      },
      "vpcPrivateSubnet1DefaultRoute1AA8E2E5": {
        "Type": "AWS::EC2::Route",
        "Properties": {
          "RouteTableId": {
            "Ref": "vpcPrivateSubnet1RouteTableB41A48CC"
          },
          "DestinationCidrBlock": "0.0.0.0/0",
          "NatGatewayId": {
            "Ref": "vpcPublicSubnet1NATGateway9C16659E"
          }
        }
      },
      "vpcPrivateSubnet2Subnet7031C2BA": {
        "Type": "AWS::EC2::Subnet",
        "Properties": {
          "CidrBlock": "10.0.192.0/18",
          "VpcId": {
            "Ref": "vpcA2121C38"
          },
          "AvailabilityZone": "test-region-1b",
          "MapPublicIpOnLaunch": false,
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PrivateSubnet2"
            },
            {
              "Key": "aws-cdk:subnet-name",
              "Value": "Private"
            },
            {
              "Key": "aws-cdk:subnet-type",
              "Value": "Private"
            },
            {
              "Key": "kubernetes.io/role/internal-elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPrivateSubnet2RouteTable7280F23E": {
        "Type": "AWS::EC2::RouteTable",
        "Properties": {
          "VpcId": {
            "Ref": "vpcA2121C38"
          },
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc/PrivateSubnet2"
            },
            {
              "Key": "kubernetes.io/role/internal-elb",
              "Value": "1"
            }
          ]
        }
      },
      "vpcPrivateSubnet2RouteTableAssociation007E94D3": {
        "Type": "AWS::EC2::SubnetRouteTableAssociation",
        "Properties": {
          "RouteTableId": {
            "Ref": "vpcPrivateSubnet2RouteTable7280F23E"
          },
          "SubnetId": {
            "Ref": "vpcPrivateSubnet2Subnet7031C2BA"
          }
        }
      },
      "vpcPrivateSubnet2DefaultRouteB0E07F99": {
        "Type": "AWS::EC2::Route",
        "Properties": {
          "RouteTableId": {
            "Ref": "vpcPrivateSubnet2RouteTable7280F23E"
          },
          "DestinationCidrBlock": "0.0.0.0/0",
          "NatGatewayId": {
            "Ref": "vpcPublicSubnet2NATGateway9B8AE11A"
          }
        }
      },
      "vpcIGWE57CBDCA": {
        "Type": "AWS::EC2::InternetGateway",
        "Properties": {
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-vpc/vpc"
            }
          ]
        }
      },
      "vpcVPCGW7984C166": {
        "Type": "AWS::EC2::VPCGatewayAttachment",
        "Properties": {
          "VpcId": {
            "Ref": "vpcA2121C38"
          },
          "InternetGatewayId": {
            "Ref": "vpcIGWE57CBDCA"
          }
        }
      }
    },
    "Outputs": {
      "ExportsOutputRefvpcA2121C384D1B3CDE": {
        "Value": {
          "Ref": "vpcA2121C38"
        },
        "Export": {
          "Name": "k8s-vpc:ExportsOutputRefvpcA2121C384D1B3CDE"
        }
      },
      "ExportsOutputRefvpcPublicSubnet1Subnet2E65531ECCB85041": {
        "Value": {
          "Ref": "vpcPublicSubnet1Subnet2E65531E"
        },
        "Export": {
          "Name": "k8s-vpc:ExportsOutputRefvpcPublicSubnet1Subnet2E65531ECCB85041"
        }
      },
      "ExportsOutputRefvpcPublicSubnet2Subnet009B674FB900C242": {
        "Value": {
          "Ref": "vpcPublicSubnet2Subnet009B674F"
        },
        "Export": {
          "Name": "k8s-vpc:ExportsOutputRefvpcPublicSubnet2Subnet009B674FB900C242"
        }
      },
      "ExportsOutputRefvpcPrivateSubnet1Subnet934893E8236E2271": {
        "Value": {
          "Ref": "vpcPrivateSubnet1Subnet934893E8"
        },
        "Export": {
          "Name": "k8s-vpc:ExportsOutputRefvpcPrivateSubnet1Subnet934893E8236E2271"
        }
      },
      "ExportsOutputRefvpcPrivateSubnet2Subnet7031C2BA60DCB1EE": {
        "Value": {
          "Ref": "vpcPrivateSubnet2Subnet7031C2BA"
        },
        "Export": {
          "Name": "k8s-vpc:ExportsOutputRefvpcPrivateSubnet2Subnet7031C2BA60DCB1EE"
        }
      }
    }
  },
  {
    "Resources": {
      "cluster22Role6F752780": {
        "Type": "AWS::IAM::Role",
        "Properties": {
          "AssumeRolePolicyDocument": {
            "Statement": [
              {
                "Action": "sts:AssumeRole",
                "Effect": "Allow",
                "Principal": {
                  "Service": "eks.amazonaws.com"
                }
              }
            ],
            "Version": "2012-10-17"
          },
          "ManagedPolicyArns": [
            {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":iam::aws:policy/AmazonEKSClusterPolicy"
                ]
              ]
            },
            {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":iam::aws:policy/AmazonEKSServicePolicy"
                ]
              ]
            }
          ]
        }
      },
      "cluster22ControlPlaneSecurityGroup2648B9CD": {
        "Type": "AWS::EC2::SecurityGroup",
        "Properties": {
          "GroupDescription": "EKS Control Plane Security Group",
          "SecurityGroupEgress": [
            {
              "CidrIp": "0.0.0.0/0",
              "Description": "Allow all outbound traffic by default",
              "IpProtocol": "-1"
            }
          ],
          "VpcId": {
            "Fn::ImportValue": "k8s-vpc:ExportsOutputRefvpcA2121C384D1B3CDE"
          }
        }
      },
      "cluster22ControlPlaneSecurityGroupfromk8sclustercluster22NodesInstanceSecurityGroupF903AE86443C3EDA943": {
        "Type": "AWS::EC2::SecurityGroupIngress",
        "Properties": {
          "IpProtocol": "tcp",
          "Description": "from k8sclustercluster22NodesInstanceSecurityGroupF903AE86:443",
          "FromPort": 443,
          "GroupId": {
            "Fn::GetAtt": [
              "cluster22ControlPlaneSecurityGroup2648B9CD",
              "GroupId"
            ]
          },
          "SourceSecurityGroupId": {
            "Fn::GetAtt": [
              "cluster22NodesInstanceSecurityGroup4A3CDC24",
              "GroupId"
            ]
          },
          "ToPort": 443
        }
      },
      "cluster22CreationRole8343FFAB": {
        "Type": "AWS::IAM::Role",
        "Properties": {
          "AssumeRolePolicyDocument": {
            "Statement": [
              {
                "Action": "sts:AssumeRole",
                "Effect": "Allow",
                "Principal": {
                  "AWS": [
                    {
                      "Fn::GetAtt": [
                        "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
                        "Outputs.k8sclusterawscdkawseksClusterResourceProviderOnEventHandlerServiceRoleB0E0C79CArn"
                      ]
                    },
                    {
                      "Fn::GetAtt": [
                        "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
                        "Outputs.k8sclusterawscdkawseksClusterResourceProviderIsCompleteHandlerServiceRole47C757F4Arn"
                      ]
                    }
                  ]
                }
              },
              {
                "Action": "sts:AssumeRole",
                "Effect": "Allow",
                "Principal": {
                  "AWS": {
                    "Fn::GetAtt": [
                      "awscdkawseksKubernetesResourceProviderNestedStackawscdkawseksKubernetesResourceProviderNestedStackResource1A5AAA66",
                      "Outputs.k8sclusterawscdkawseksKubernetesResourceProviderHandlerServiceRole0EBEFB8CArn"
                    ]
                  }
                }
              },
              {
                "Action": "sts:AssumeRole",
                "Effect": "Allow",
                "Principal": {
                  "AWS": {
                    "Fn::GetAtt": [
                      "awscdkawseksHelmResourceProviderNestedStackawscdkawseksHelmResourceProviderNestedStackResource5C12A9A9",
                      "Outputs.k8sclusterawscdkawseksHelmResourceProviderHandlerServiceRoleC287DC67Arn"
                    ]
                  }
                }
              }
            ],
            "Version": "2012-10-17"
          }
        }
      },
      "cluster22CreationRoleDefaultPolicy0015FEEF": {
        "Type": "AWS::IAM::Policy",
        "Properties": {
          "PolicyDocument": {
            "Statement": [
              {
                "Action": "iam:PassRole",
                "Effect": "Allow",
                "Resource": {
                  "Fn::GetAtt": [
                    "cluster22Role6F752780",
                    "Arn"
                  ]
                }
              },
              {
                "Action": [
                  "eks:CreateCluster",
                  "eks:DescribeCluster",
                  "eks:DeleteCluster",
                  "eks:UpdateClusterVersion",
                  "eks:UpdateClusterConfig"
                ],
                "Effect": "Allow",
                "Resource": "*"
              }
            ],
            "Version": "2012-10-17"
          },
          "PolicyName": "cluster22CreationRoleDefaultPolicy0015FEEF",
          "Roles": [
            {
              "Ref": "cluster22CreationRole8343FFAB"
            }
          ]
        }
      },
      "cluster227BD1CB20": {
        "Type": "Custom::AWSCDK-EKS-Cluster",
        "Properties": {
          "ServiceToken": {
            "Fn::GetAtt": [
              "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454",
              "Outputs.k8sclusterawscdkawseksClusterResourceProviderframeworkonEventF31E5604Arn"
            ]
          },
          "Config": {
            "roleArn": {
              "Fn::GetAtt": [
                "cluster22Role6F752780",
                "Arn"
              ]
            },
            "resourcesVpcConfig": {
              "securityGroupIds": [
                {
                  "Fn::GetAtt": [
                    "cluster22ControlPlaneSecurityGroup2648B9CD",
                    "GroupId"
                  ]
                }
              ],
              "subnetIds": [
                {
                  "Fn::ImportValue": "k8s-vpc:ExportsOutputRefvpcPublicSubnet1Subnet2E65531ECCB85041"
                },
                {
                  "Fn::ImportValue": "k8s-vpc:ExportsOutputRefvpcPublicSubnet2Subnet009B674FB900C242"
                },
                {
                  "Fn::ImportValue": "k8s-vpc:ExportsOutputRefvpcPrivateSubnet1Subnet934893E8236E2271"
                },
                {
                  "Fn::ImportValue": "k8s-vpc:ExportsOutputRefvpcPrivateSubnet2Subnet7031C2BA60DCB1EE"
                }
              ]
            }
          },
          "AssumeRoleArn": {
            "Fn::GetAtt": [
              "cluster22CreationRole8343FFAB",
              "Arn"
            ]
          }
        },
        "DependsOn": [
          "cluster22CreationRoleDefaultPolicy0015FEEF",
          "cluster22CreationRole8343FFAB"
        ],
        "UpdateReplacePolicy": "Delete",
        "DeletionPolicy": "Delete"
      },
      "cluster22AwsAuthmanifest4685C84D": {
        "Type": "Custom::AWSCDK-EKS-KubernetesResource",
        "Properties": {
          "ServiceToken": {
            "Fn::GetAtt": [
              "awscdkawseksKubernetesResourceProviderNestedStackawscdkawseksKubernetesResourceProviderNestedStackResource1A5AAA66",
              "Outputs.k8sclusterawscdkawseksKubernetesResourceProviderframeworkonEvent150B7AA1Arn"
            ]
          },
          "Manifest": {
            "Fn::Join": [
              "",
              [
                "[{\"apiVersion\":\"v1\",\"kind\":\"ConfigMap\",\"metadata\":{\"name\":\"aws-auth\",\"namespace\":\"kube-system\"},\"data\":{\"mapRoles\":\"[{\\\"rolearn\\\":\\\"",
                {
                  "Fn::GetAtt": [
                    "AdminRole38563C57",
                    "Arn"
                  ]
                },
                "\\\",\\\"groups\\\":[\\\"system:masters\\\"]},{\\\"rolearn\\\":\\\"",
                {
                  "Fn::GetAtt": [
                    "cluster22NodesInstanceRole51CD052F",
                    "Arn"
                  ]
                },
                "\\\",\\\"username\\\":\\\"system:node:{{EC2PrivateDNSName}}\\\",\\\"groups\\\":[\\\"system:bootstrappers\\\",\\\"system:nodes\\\"]}]\",\"mapUsers\":\"[]\",\"mapAccounts\":\"[]\"}}]"
              ]
            ]
          },
          "ClusterName": {
            "Ref": "cluster227BD1CB20"
          },
          "RoleArn": {
            "Fn::GetAtt": [
              "cluster22CreationRole8343FFAB",
              "Arn"
            ]
          }
        },
        "UpdateReplacePolicy": "Delete",
        "DeletionPolicy": "Delete"
      },
      "cluster22NodesInstanceSecurityGroup4A3CDC24": {
        "Type": "AWS::EC2::SecurityGroup",
        "Properties": {
          "GroupDescription": "k8s-cluster/cluster22/Nodes/InstanceSecurityGroup",
          "SecurityGroupEgress": [
            {
              "CidrIp": "0.0.0.0/0",
              "Description": "Allow all outbound traffic by default",
              "IpProtocol": "-1"
            }
          ],
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-cluster/cluster22/Nodes"
            },
            {
              "Key": {
                "Fn::Join": [
                  "",
                  [
                    "kubernetes.io/cluster/",
                    {
                      "Ref": "cluster227BD1CB20"
                    }
                  ]
                ]
              },
              "Value": "owned"
            }
          ],
          "VpcId": {
            "Fn::ImportValue": "k8s-vpc:ExportsOutputRefvpcA2121C384D1B3CDE"
          }
        }
      },
      "cluster22NodesInstanceSecurityGroupfromk8sclustercluster22NodesInstanceSecurityGroupF903AE86ALLTRAFFIC774C7781": {
        "Type": "AWS::EC2::SecurityGroupIngress",
        "Properties": {
          "IpProtocol": "-1",
          "Description": "from k8sclustercluster22NodesInstanceSecurityGroupF903AE86:ALL TRAFFIC",
          "GroupId": {
            "Fn::GetAtt": [
              "cluster22NodesInstanceSecurityGroup4A3CDC24",
              "GroupId"
            ]
          },
          "SourceSecurityGroupId": {
            "Fn::GetAtt": [
              "cluster22NodesInstanceSecurityGroup4A3CDC24",
              "GroupId"
            ]
          }
        }
      },
      "cluster22NodesInstanceSecurityGroupfromk8sclustercluster22ControlPlaneSecurityGroup3B5F21B44434A6E344D": {
        "Type": "AWS::EC2::SecurityGroupIngress",
        "Properties": {
          "IpProtocol": "tcp",
          "Description": "from k8sclustercluster22ControlPlaneSecurityGroup3B5F21B4:443",
          "FromPort": 443,
          "GroupId": {
            "Fn::GetAtt": [
              "cluster22NodesInstanceSecurityGroup4A3CDC24",
              "GroupId"
            ]
          },
          "SourceSecurityGroupId": {
            "Fn::GetAtt": [
              "cluster22ControlPlaneSecurityGroup2648B9CD",
              "GroupId"
            ]
          },
          "ToPort": 443
        }
      },
      "cluster22NodesInstanceSecurityGroupfromk8sclustercluster22ControlPlaneSecurityGroup3B5F21B41025655355658FCAA": {
        "Type": "AWS::EC2::SecurityGroupIngress",
        "Properties": {
          "IpProtocol": "tcp",
          "Description": "from k8sclustercluster22ControlPlaneSecurityGroup3B5F21B4:1025-65535",
          "FromPort": 1025,
          "GroupId": {
            "Fn::GetAtt": [
              "cluster22NodesInstanceSecurityGroup4A3CDC24",
              "GroupId"
            ]
          },
          "SourceSecurityGroupId": {
            "Fn::GetAtt": [
              "cluster22ControlPlaneSecurityGroup2648B9CD",
              "GroupId"
            ]
          },
          "ToPort": 65535
        }
      },
      "cluster22NodesInstanceRole51CD052F": {
        "Type": "AWS::IAM::Role",
        "Properties": {
          "AssumeRolePolicyDocument": {
            "Statement": [
              {
                "Action": "sts:AssumeRole",
                "Effect": "Allow",
                "Principal": {
                  "Service": {
                    "Fn::Join": [
                      "",
                      [
                        "ec2.",
                        {
                          "Ref": "AWS::URLSuffix"
                        }
                      ]
                    ]
                  }
                }
              }
            ],
            "Version": "2012-10-17"
          },
          "ManagedPolicyArns": [
            {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":iam::aws:policy/AmazonEKSWorkerNodePolicy"
                ]
              ]
            },
            {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":iam::aws:policy/AmazonEKS_CNI_Policy"
                ]
              ]
            },
            {
              "Fn::Join": [
                "",
                [
                  "arn:",
                  {
                    "Ref": "AWS::Partition"
                  },
                  ":iam::aws:policy/AmazonEC2ContainerRegistryReadOnly"
                ]
              ]
            }
          ],
          "Tags": [
            {
              "Key": "Name",
              "Value": "k8s-cluster/cluster22/Nodes"
            },
            {
              "Key": {
                "Fn::Join": [
                  "",
                  [
                    "kubernetes.io/cluster/",
                    {
                      "Ref": "cluster227BD1CB20"
                    }
                  ]
                ]
              },
              "Value": "owned"
            }
          ]
        }
      },
      "cluster22NodesInstanceProfile3D4963ED": {
        "Type": "AWS::IAM::InstanceProfile",
        "Properties": {
          "Roles": [
            {
              "Ref": "cluster22NodesInstanceRole51CD052F"
            }
          ]
        }
      },
      "cluster22NodesLaunchConfig184BF3BA": {
        "Type": "AWS::AutoScaling::LaunchConfiguration",
        "Properties": {
          "ImageId": {
            "Ref": "SsmParameterValueawsserviceeksoptimizedami114amazonlinux2recommendedimageidC96584B6F00A464EAD1953AFF4B05118Parameter"
          },
          "InstanceType": "t2.medium",
          "IamInstanceProfile": {
            "Ref": "cluster22NodesInstanceProfile3D4963ED"
          },
          "SecurityGroups": [
            {
              "Fn::GetAtt": [
                "cluster22NodesInstanceSecurityGroup4A3CDC24",
                "GroupId"
              ]
            }
          ],
          "UserData": {
            "Fn::Base64": {
              "Fn::Join": [
                "",
                [
                  "#!/bin/bash\nset -o xtrace\n/etc/eks/bootstrap.sh ",
                  {
                    "Ref": "cluster227BD1CB20"
                  },
                  " --kubelet-extra-args \"--node-labels lifecycle=OnDemand\" --use-max-pods true\n/opt/aws/bin/cfn-signal --exit-code $? --stack k8s-cluster --resource cluster22NodesASGC0A97398 --region test-region"
                ]
              ]
            }
          }
        },
        "DependsOn": [
          "cluster22NodesInstanceRole51CD052F"
        ]
      },
      "cluster22NodesASGC0A97398": {
        "Type": "AWS::AutoScaling::AutoScalingGroup",
        "Properties": {
          "MaxSize": "3",
          "MinSize": "1",
          "DesiredCapacity": "3",
          "LaunchConfigurationName": {
            "Ref": "cluster22NodesLaunchConfig184BF3BA"
          },
          "Tags": [
            {
              "Key": "Name",
              "PropagateAtLaunch": true,
              "Value": "k8s-cluster/cluster22/Nodes"
            },
            {
              "Key": {
                "Fn::Join": [
                  "",
                  [
                    "kubernetes.io/cluster/",
                    {
                      "Ref": "cluster227BD1CB20"
                    }
                  ]
                ]
              },
              "PropagateAtLaunch": true,
              "Value": "owned"
            }
          ],
          "VPCZoneIdentifier": [
            {
              "Fn::ImportValue": "k8s-vpc:ExportsOutputRefvpcPrivateSubnet1Subnet934893E8236E2271"
            },
            {
              "Fn::ImportValue": "k8s-vpc:ExportsOutputRefvpcPrivateSubnet2Subnet7031C2BA60DCB1EE"
            }
          ]
        },
        "UpdatePolicy": {
          "AutoScalingRollingUpdate": {
            "WaitOnResourceSignals": false,
            "PauseTime": "PT0S",
            "SuspendProcesses": [
              "HealthCheck",
              "ReplaceUnhealthy",
              "AZRebalance",
              "AlarmNotification",
              "ScheduledActions"
            ]
          },
          "AutoScalingScheduledAction": {
            "IgnoreUnmodifiedGroupSizeProperties": true
          }
        }
      },
      "cluster22chartdashboard616811AB": {
        "Type": "Custom::AWSCDK-EKS-HelmChart",
        "Properties": {
          "ServiceToken": {
            "Fn::GetAtt": [
              "awscdkawseksHelmResourceProviderNestedStackawscdkawseksHelmResourceProviderNestedStackResource5C12A9A9",
              "Outputs.k8sclusterawscdkawseksHelmResourceProviderframeworkonEvent603E80AFArn"
            ]
          },
          "ClusterName": {
            "Ref": "cluster227BD1CB20"
          },
          "RoleArn": {
            "Fn::GetAtt": [
              "cluster22CreationRole8343FFAB",
              "Arn"
            ]
          },
          "Release": "k8sclustercluster22chartdashboard3844c297",
          "Chart": "kubernetes-dashboard",
          "Namespace": "default",
          "Repository": "https://kubernetes-charts.storage.googleapis.com"
        },
        "UpdateReplacePolicy": "Delete",
        "DeletionPolicy": "Delete"
      },
      "cluster22chartnginxingress90C2D506": {
        "Type": "Custom::AWSCDK-EKS-HelmChart",
        "Properties": {
          "ServiceToken": {
            "Fn::GetAtt": [
              "awscdkawseksHelmResourceProviderNestedStackawscdkawseksHelmResourceProviderNestedStackResource5C12A9A9",
              "Outputs.k8sclusterawscdkawseksHelmResourceProviderframeworkonEvent603E80AFArn"
            ]
          },
          "ClusterName": {
            "Ref": "cluster227BD1CB20"
          },
          "RoleArn": {
            "Fn::GetAtt": [
              "cluster22CreationRole8343FFAB",
              "Arn"
            ]
          },
          "Release": "k8sclustercluster22chartnginxingress8b03389e",
          "Chart": "nginx-ingress",
          "Namespace": "kube-system",
          "Repository": "https://helm.nginx.com/stable"
        },
        "UpdateReplacePolicy": "Delete",
        "DeletionPolicy": "Delete"
      },
      "awscdkawseksClusterResourceProviderNestedStackawscdkawseksClusterResourceProviderNestedStackResource9827C454": {
        "Type": "AWS::CloudFormation::Stack",
        "Properties": {
          "TemplateURL": {
            "Fn::Join": [
              "",
              [
                "https://s3.test-region.",
                {
                  "Ref": "AWS::URLSuffix"
                },
                "/",
                {
                  "Ref": "AssetParameters540842f0a355c4620ed110a6f92aa6a921c1dbf3f8e17ce6a23bfd00ea1baab3S3Bucket03F6D334"
                },
                "/",
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters540842f0a355c4620ed110a6f92aa6a921c1dbf3f8e17ce6a23bfd00ea1baab3S3VersionKey025EC41A"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParameters540842f0a355c4620ed110a6f92aa6a921c1dbf3f8e17ce6a23bfd00ea1baab3S3VersionKey025EC41A"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          },
          "Parameters": {
            "referencetok8sclusterAssetParameterse3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7cS3Bucket40DAFEBFRef": {
              "Ref": "AssetParameterse3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7cS3BucketE861A468"
            },
            "referencetok8sclusterAssetParameterse3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7cS3VersionKeyD9847EBDRef": {
              "Ref": "AssetParameterse3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7cS3VersionKeyB62DD0C4"
            },
            "referencetok8sclusterAssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3BucketB63FFE8ARef": {
              "Ref": "AssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3Bucket2BE3EE52"
            },
            "referencetok8sclusterAssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3VersionKeyF1FD02DBRef": {
              "Ref": "AssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3VersionKeyF3C1A55F"
            }
          }
        }
      },
      "AdminRole38563C57": {
        "Type": "AWS::IAM::Role",
        "Properties": {
          "AssumeRolePolicyDocument": {
            "Statement": [
              {
                "Action": "sts:AssumeRole",
                "Effect": "Allow",
                "Principal": {
                  "AWS": {
                    "Fn::Join": [
                      "",
                      [
                        "arn:",
                        {
                          "Ref": "AWS::Partition"
                        },
                        ":iam::12345678:root"
                      ]
                    ]
                  }
                }
              }
            ],
            "Version": "2012-10-17"
          }
        }
      },
      "awscdkawseksKubernetesResourceProviderNestedStackawscdkawseksKubernetesResourceProviderNestedStackResource1A5AAA66": {
        "Type": "AWS::CloudFormation::Stack",
        "Properties": {
          "TemplateURL": {
            "Fn::Join": [
              "",
              [
                "https://s3.test-region.",
                {
                  "Ref": "AWS::URLSuffix"
                },
                "/",
                {
                  "Ref": "AssetParametersb355163e479b61c13b69d94e17d47baedae102377536db78a28894aa8c8fd9acS3BucketE46B0448"
                },
                "/",
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersb355163e479b61c13b69d94e17d47baedae102377536db78a28894aa8c8fd9acS3VersionKeyDEFB5CBF"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersb355163e479b61c13b69d94e17d47baedae102377536db78a28894aa8c8fd9acS3VersionKeyDEFB5CBF"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          },
          "Parameters": {
            "referencetok8sclusterAssetParameters21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2S3Bucket09CADC1ERef": {
              "Ref": "AssetParameters21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2S3BucketB6E15294"
            },
            "referencetok8sclusterAssetParameters21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2S3VersionKey34019A7CRef": {
              "Ref": "AssetParameters21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2S3VersionKey5071432F"
            },
            "referencetok8sclusterAssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3BucketB63FFE8ARef": {
              "Ref": "AssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3Bucket2BE3EE52"
            },
            "referencetok8sclusterAssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3VersionKeyF1FD02DBRef": {
              "Ref": "AssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3VersionKeyF3C1A55F"
            }
          }
        }
      },
      "awscdkawseksHelmResourceProviderNestedStackawscdkawseksHelmResourceProviderNestedStackResource5C12A9A9": {
        "Type": "AWS::CloudFormation::Stack",
        "Properties": {
          "TemplateURL": {
            "Fn::Join": [
              "",
              [
                "https://s3.test-region.",
                {
                  "Ref": "AWS::URLSuffix"
                },
                "/",
                {
                  "Ref": "AssetParametersf2b51715585e841aff1fe80c8ffa880d5fa95979b26586f6ee31530c87d7ffb8S3BucketD006397D"
                },
                "/",
                {
                  "Fn::Select": [
                    0,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersf2b51715585e841aff1fe80c8ffa880d5fa95979b26586f6ee31530c87d7ffb8S3VersionKeyE828AC16"
                        }
                      ]
                    }
                  ]
                },
                {
                  "Fn::Select": [
                    1,
                    {
                      "Fn::Split": [
                        "||",
                        {
                          "Ref": "AssetParametersf2b51715585e841aff1fe80c8ffa880d5fa95979b26586f6ee31530c87d7ffb8S3VersionKeyE828AC16"
                        }
                      ]
                    }
                  ]
                }
              ]
            ]
          },
          "Parameters": {
            "referencetok8sclusterAssetParameters6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463S3Bucket557D94B1Ref": {
              "Ref": "AssetParameters6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463S3Bucket29EBC6FF"
            },
            "referencetok8sclusterAssetParameters6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463S3VersionKey7262C322Ref": {
              "Ref": "AssetParameters6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463S3VersionKeyC8E24930"
            },
            "referencetok8sclusterAssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3BucketB63FFE8ARef": {
              "Ref": "AssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3Bucket2BE3EE52"
            },
            "referencetok8sclusterAssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3VersionKeyF1FD02DBRef": {
              "Ref": "AssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3VersionKeyF3C1A55F"
            }
          }
        }
      }
    },
    "Outputs": {
      "cluster22ConfigCommand96B20279": {
        "Value": {
          "Fn::Join": [
            "",
            [
              "aws eks update-kubeconfig --name ",
              {
                "Ref": "cluster227BD1CB20"
              },
              " --region test-region"
            ]
          ]
        }
      },
      "cluster22GetTokenCommand99DB9B02": {
        "Value": {
          "Fn::Join": [
            "",
            [
              "aws eks get-token --cluster-name ",
              {
                "Ref": "cluster227BD1CB20"
              },
              " --region test-region"
            ]
          ]
        }
      }
    },
    "Parameters": {
      "AssetParameterse3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7cS3BucketE861A468": {
        "Type": "String",
        "Description": "S3 bucket for asset \"e3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7c\""
      },
      "AssetParameterse3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7cS3VersionKeyB62DD0C4": {
        "Type": "String",
        "Description": "S3 key for asset version \"e3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7c\""
      },
      "AssetParameterse3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7cArtifactHash1871DA56": {
        "Type": "String",
        "Description": "Artifact hash for asset \"e3e075ac49ed41df2d65a2461111e2462dae18db8ec082455daea8dab8d47b7c\""
      },
      "AssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3Bucket2BE3EE52": {
        "Type": "String",
        "Description": "S3 bucket for asset \"41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249\""
      },
      "AssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249S3VersionKeyF3C1A55F": {
        "Type": "String",
        "Description": "S3 key for asset version \"41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249\""
      },
      "AssetParameters41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249ArtifactHashF6B1A288": {
        "Type": "String",
        "Description": "Artifact hash for asset \"41ccb248c5378439fa6eaee8f22cb6be0b66a093ed6cee67ad804bb1657da249\""
      },
      "AssetParameters21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2S3BucketB6E15294": {
        "Type": "String",
        "Description": "S3 bucket for asset \"21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2\""
      },
      "AssetParameters21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2S3VersionKey5071432F": {
        "Type": "String",
        "Description": "S3 key for asset version \"21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2\""
      },
      "AssetParameters21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2ArtifactHash1FC307C8": {
        "Type": "String",
        "Description": "Artifact hash for asset \"21d34b692341e38aac82036dc6f81727130d345c23a6dce90d2af2779c9adfe2\""
      },
      "AssetParameters6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463S3Bucket29EBC6FF": {
        "Type": "String",
        "Description": "S3 bucket for asset \"6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463\""
      },
      "AssetParameters6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463S3VersionKeyC8E24930": {
        "Type": "String",
        "Description": "S3 key for asset version \"6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463\""
      },
      "AssetParameters6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463ArtifactHash23C682DF": {
        "Type": "String",
        "Description": "Artifact hash for asset \"6149251e9b15b9d8b1c4ce160e99094f79b86b323da0a96f97467aabd6e41463\""
      },
      "AssetParametersf2b51715585e841aff1fe80c8ffa880d5fa95979b26586f6ee31530c87d7ffb8S3BucketD006397D": {
        "Type": "String",
        "Description": "S3 bucket for asset \"f2b51715585e841aff1fe80c8ffa880d5fa95979b26586f6ee31530c87d7ffb8\""
      },
      "AssetParametersf2b51715585e841aff1fe80c8ffa880d5fa95979b26586f6ee31530c87d7ffb8S3VersionKeyE828AC16": {
        "Type": "String",
        "Description": "S3 key for asset version \"f2b51715585e841aff1fe80c8ffa880d5fa95979b26586f6ee31530c87d7ffb8\""
      },
      "AssetParametersf2b51715585e841aff1fe80c8ffa880d5fa95979b26586f6ee31530c87d7ffb8ArtifactHash8DFB6643": {
        "Type": "String",
        "Description": "Artifact hash for asset \"f2b51715585e841aff1fe80c8ffa880d5fa95979b26586f6ee31530c87d7ffb8\""
      },
      "AssetParametersb355163e479b61c13b69d94e17d47baedae102377536db78a28894aa8c8fd9acS3BucketE46B0448": {
        "Type": "String",
        "Description": "S3 bucket for asset \"b355163e479b61c13b69d94e17d47baedae102377536db78a28894aa8c8fd9ac\""
      },
      "AssetParametersb355163e479b61c13b69d94e17d47baedae102377536db78a28894aa8c8fd9acS3VersionKeyDEFB5CBF": {
        "Type": "String",
        "Description": "S3 key for asset version \"b355163e479b61c13b69d94e17d47baedae102377536db78a28894aa8c8fd9ac\""
      },
      "AssetParametersb355163e479b61c13b69d94e17d47baedae102377536db78a28894aa8c8fd9acArtifactHashB2ED3C3A": {
        "Type": "String",
        "Description": "Artifact hash for asset \"b355163e479b61c13b69d94e17d47baedae102377536db78a28894aa8c8fd9ac\""
      },
      "AssetParameters540842f0a355c4620ed110a6f92aa6a921c1dbf3f8e17ce6a23bfd00ea1baab3S3Bucket03F6D334": {
        "Type": "String",
        "Description": "S3 bucket for asset \"540842f0a355c4620ed110a6f92aa6a921c1dbf3f8e17ce6a23bfd00ea1baab3\""
      },
      "AssetParameters540842f0a355c4620ed110a6f92aa6a921c1dbf3f8e17ce6a23bfd00ea1baab3S3VersionKey025EC41A": {
        "Type": "String",
        "Description": "S3 key for asset version \"540842f0a355c4620ed110a6f92aa6a921c1dbf3f8e17ce6a23bfd00ea1baab3\""
      },
      "AssetParameters540842f0a355c4620ed110a6f92aa6a921c1dbf3f8e17ce6a23bfd00ea1baab3ArtifactHash60F2D861": {
        "Type": "String",
        "Description": "Artifact hash for asset \"540842f0a355c4620ed110a6f92aa6a921c1dbf3f8e17ce6a23bfd00ea1baab3\""
      },
      "SsmParameterValueawsserviceeksoptimizedami114amazonlinux2recommendedimageidC96584B6F00A464EAD1953AFF4B05118Parameter": {
        "Type": "AWS::SSM::Parameter::Value<String>",
        "Default": "/aws/service/eks/optimized-ami/1.14/amazon-linux-2/recommended/image_id"
      }
    }
  }
]